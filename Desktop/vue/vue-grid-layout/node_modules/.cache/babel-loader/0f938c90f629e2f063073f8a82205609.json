{"remainingRequest":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\src\\components\\GridItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\src\\components\\GridItem.vue","mtime":1620677879119},{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\omar-\\Desktop\\vue\\vue-grid-layout\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { setTopLeft, setTopRight, setTransformRtl, setTransform } from \"@/helpers/utils\";\nimport { getControlPosition, createCoreData } from \"@/helpers/draggableUtils\";\nimport { getColsFromBreakpoint } from \"@/helpers/responsiveUtils\";\nimport { getDocumentDir } from \"@/helpers/DOM\"; //    var eventBus = require('./eventBus');\n\nimport \"@interactjs/auto-start\";\nimport \"@interactjs/actions/drag\";\nimport \"@interactjs/actions/resize\";\nimport \"@interactjs/modifiers\";\nimport \"@interactjs/dev-tools\";\nimport interact from \"@interactjs/interact\";\nexport default {\n  name: \"GridItem\",\n  props: {\n    /*cols: {\r\n             type: Number,\r\n             required: true\r\n             },*/\n\n    /*containerWidth: {\r\n             type: Number,\r\n             required: true\r\n               },\r\n             rowHeight: {\r\n             type: Number,\r\n             required: true\r\n             },\r\n             margin: {\r\n             type: Array,\r\n             required: true\r\n             },\r\n             maxRows: {\r\n             type: Number,\r\n             required: true\r\n             },*/\n    isDraggable: {\n      type: Boolean,\n      required: false,\n      default: null\n    },\n    isResizable: {\n      type: Boolean,\n      required: false,\n      default: null\n    },\n\n    /*useCssTransforms: {\r\n             type: Boolean,\r\n             required: true\r\n             },\r\n             */\n    static: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    minH: {\n      type: Number,\n      required: false,\n      default: 1\n    },\n    minW: {\n      type: Number,\n      required: false,\n      default: 1\n    },\n    maxH: {\n      type: Number,\n      required: false,\n      default: Infinity\n    },\n    maxW: {\n      type: Number,\n      required: false,\n      default: Infinity\n    },\n    x: {\n      type: Number,\n      required: true\n    },\n    y: {\n      type: Number,\n      required: true\n    },\n    w: {\n      type: Number,\n      required: true\n    },\n    h: {\n      type: Number,\n      required: true\n    },\n    i: {\n      required: true\n    },\n    dragIgnoreFrom: {\n      type: String,\n      required: false,\n      default: \"a, button\"\n    },\n    dragAllowFrom: {\n      type: String,\n      required: false,\n      default: null\n    },\n    resizeIgnoreFrom: {\n      type: String,\n      required: false,\n      default: \"a, button\"\n    },\n    preserveAspectRatio: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  inject: [\"eventBus\", \"layout\"],\n  data: function data() {\n    return {\n      cols: 1,\n      containerWidth: 100,\n      rowHeight: 30,\n      margin: [10, 10],\n      maxRows: Infinity,\n      draggable: null,\n      resizable: null,\n      useCssTransforms: true,\n      useStyleCursor: true,\n      isDragging: false,\n      dragging: null,\n      isResizing: false,\n      resizing: null,\n      lastX: NaN,\n      lastY: NaN,\n      lastW: NaN,\n      lastH: NaN,\n      style: {},\n      rtl: false,\n      dragEventSet: false,\n      resizeEventSet: false,\n      previousW: null,\n      previousH: null,\n      previousX: null,\n      previousY: null,\n      innerX: this.x,\n      innerY: this.y,\n      innerW: this.w,\n      innerH: this.h\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    var self = this; // Accessible refernces of functions for removing in beforeDestroy\n\n    self.updateWidthHandler = function (width) {\n      self.updateWidth(width);\n    };\n\n    self.compactHandler = function (layout) {\n      self.compact(layout);\n    };\n\n    self.setDraggableHandler = function (isDraggable) {\n      if (self.isDraggable === null) {\n        self.draggable = isDraggable;\n      }\n    };\n\n    self.setResizableHandler = function (isResizable) {\n      if (self.isResizable === null) {\n        self.resizable = isResizable;\n      }\n    };\n\n    self.setRowHeightHandler = function (rowHeight) {\n      self.rowHeight = rowHeight;\n    };\n\n    self.setMaxRowsHandler = function (maxRows) {\n      self.maxRows = maxRows;\n    };\n\n    self.directionchangeHandler = function () {\n      _this.rtl = getDocumentDir() === \"rtl\";\n\n      _this.compact();\n    };\n\n    self.setColNum = function (colNum) {\n      self.cols = parseInt(colNum);\n    };\n\n    this.eventBus.$on(\"updateWidth\", self.updateWidthHandler);\n    this.eventBus.$on(\"compact\", self.compactHandler);\n    this.eventBus.$on(\"setDraggable\", self.setDraggableHandler);\n    this.eventBus.$on(\"setResizable\", self.setResizableHandler);\n    this.eventBus.$on(\"setRowHeight\", self.setRowHeightHandler);\n    this.eventBus.$on(\"setMaxRows\", self.setMaxRowsHandler);\n    this.eventBus.$on(\"directionchange\", self.directionchangeHandler);\n    this.eventBus.$on(\"setColNum\", self.setColNum);\n    this.rtl = getDocumentDir() === \"rtl\";\n  },\n  beforeDestroy: function beforeDestroy() {\n    var self = this; //Remove listeners\n\n    this.eventBus.$off(\"updateWidth\", self.updateWidthHandler);\n    this.eventBus.$off(\"compact\", self.compactHandler);\n    this.eventBus.$off(\"setDraggable\", self.setDraggableHandler);\n    this.eventBus.$off(\"setResizable\", self.setResizableHandler);\n    this.eventBus.$off(\"setRowHeight\", self.setRowHeightHandler);\n    this.eventBus.$off(\"setMaxRows\", self.setMaxRowsHandler);\n    this.eventBus.$off(\"directionchange\", self.directionchangeHandler);\n    this.eventBus.$off(\"setColNum\", self.setColNum);\n\n    if (this.interactObj) {\n      this.interactObj.unset(); // destroy interact intance\n    }\n  },\n  mounted: function mounted() {\n    if (this.layout.responsive && this.layout.lastBreakpoint) {\n      this.cols = getColsFromBreakpoint(this.layout.lastBreakpoint, this.layout.cols);\n    } else {\n      this.cols = this.layout.colNum;\n    }\n\n    this.rowHeight = this.layout.rowHeight;\n    this.containerWidth = this.layout.width !== null ? this.layout.width : 100;\n    this.margin = this.layout.margin !== undefined ? this.layout.margin : [10, 10];\n    this.maxRows = this.layout.maxRows;\n\n    if (this.isDraggable === null) {\n      this.draggable = this.layout.isDraggable;\n    } else {\n      this.draggable = this.isDraggable;\n    }\n\n    if (this.isResizable === null) {\n      this.resizable = this.layout.isResizable;\n    } else {\n      this.resizable = this.isResizable;\n    }\n\n    this.useCssTransforms = this.layout.useCssTransforms;\n    this.useStyleCursor = this.layout.useStyleCursor;\n    this.createStyle();\n  },\n  watch: {\n    isDraggable: function isDraggable() {\n      this.draggable = this.isDraggable;\n    },\n    static: function _static() {\n      this.tryMakeDraggable();\n      this.tryMakeResizable();\n    },\n    draggable: function draggable() {\n      this.tryMakeDraggable();\n    },\n    isResizable: function isResizable() {\n      this.resizable = this.isResizable;\n    },\n    resizable: function resizable() {\n      this.tryMakeResizable();\n    },\n    rowHeight: function rowHeight() {\n      this.createStyle();\n      this.emitContainerResized();\n    },\n    cols: function cols() {\n      this.tryMakeResizable();\n      this.createStyle();\n      this.emitContainerResized();\n    },\n    containerWidth: function containerWidth() {\n      this.tryMakeResizable();\n      this.createStyle();\n      this.emitContainerResized();\n    },\n    x: function x(newVal) {\n      this.innerX = newVal;\n      this.createStyle();\n    },\n    y: function y(newVal) {\n      this.innerY = newVal;\n      this.createStyle();\n    },\n    h: function h(newVal) {\n      this.innerH = newVal;\n      this.createStyle(); // this.emitContainerResized();\n    },\n    w: function w(newVal) {\n      this.innerW = newVal;\n      this.createStyle(); // this.emitContainerResized();\n    },\n    renderRtl: function renderRtl() {\n      // console.log(\"### renderRtl\");\n      this.tryMakeResizable();\n      this.createStyle();\n    },\n    minH: function minH() {\n      this.tryMakeResizable();\n    },\n    maxH: function maxH() {\n      this.tryMakeResizable();\n    },\n    minW: function minW() {\n      this.tryMakeResizable();\n    },\n    maxW: function maxW() {\n      this.tryMakeResizable();\n    },\n    \"$parent.margin\": function $parentMargin(margin) {\n      if (!margin || margin[0] == this.margin[0] && margin[1] == this.margin[1]) {\n        return;\n      }\n\n      this.margin = margin.map(function (m) {\n        return Number(m);\n      });\n      this.createStyle();\n      this.emitContainerResized();\n    }\n  },\n  computed: {\n    classObj: function classObj() {\n      return {\n        \"vue-resizable\": this.resizableAndNotStatic,\n        static: this.static,\n        resizing: this.isResizing,\n        \"vue-draggable-dragging\": this.isDragging,\n        cssTransforms: this.useCssTransforms,\n        \"render-rtl\": this.renderRtl,\n        \"disable-userselect\": this.isDragging,\n        \"no-touch\": this.isAndroid && this.draggableOrResizableAndNotStatic\n      };\n    },\n    resizableAndNotStatic: function resizableAndNotStatic() {\n      return this.resizable && !this.static;\n    },\n    draggableOrResizableAndNotStatic: function draggableOrResizableAndNotStatic() {\n      return (this.draggable || this.resizable) && !this.static;\n    },\n    isAndroid: function isAndroid() {\n      return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\n    },\n    renderRtl: function renderRtl() {\n      return this.layout.isMirrored ? !this.rtl : this.rtl;\n    },\n    resizableHandleClass: function resizableHandleClass() {\n      if (this.renderRtl) {\n        return \"vue-resizable-handle vue-rtl-resizable-handle\";\n      } else {\n        return \"vue-resizable-handle\";\n      }\n    }\n  },\n  methods: {\n    createStyle: function createStyle() {\n      if (this.x + this.w > this.cols) {\n        this.innerX = 0;\n        this.innerW = this.w > this.cols ? this.cols : this.w;\n      } else {\n        this.innerX = this.x;\n        this.innerW = this.w;\n      }\n\n      var pos = this.calcPosition(this.innerX, this.innerY, this.innerW, this.innerH);\n\n      if (this.isDragging) {\n        pos.top = this.dragging.top; //                    Add rtl support\n\n        if (this.renderRtl) {\n          pos.right = this.dragging.left;\n        } else {\n          pos.left = this.dragging.left;\n        }\n      }\n\n      if (this.isResizing) {\n        pos.width = this.resizing.width;\n        pos.height = this.resizing.height;\n      }\n\n      var style; // CSS Transforms support (default)\n\n      if (this.useCssTransforms) {\n        //                    Add rtl support\n        if (this.renderRtl) {\n          style = setTransformRtl(pos.top, pos.right, pos.width, pos.height);\n        } else {\n          style = setTransform(pos.top, pos.left, pos.width, pos.height);\n        }\n      } else {\n        // top,left (slow)\n        //                    Add rtl support\n        if (this.renderRtl) {\n          style = setTopRight(pos.top, pos.right, pos.width, pos.height);\n        } else {\n          style = setTopLeft(pos.top, pos.left, pos.width, pos.height);\n        }\n      }\n\n      this.style = style;\n    },\n    emitContainerResized: function emitContainerResized() {\n      // this.style has width and height with trailing 'px'. The\n      // resized event is without them\n      var styleProps = {};\n\n      for (var _i = 0, _arr = [\"width\", \"height\"]; _i < _arr.length; _i++) {\n        var prop = _arr[_i];\n        var val = this.style[prop];\n        var matches = val.match(/^(\\d+)px$/);\n        if (!matches) return;\n        styleProps[prop] = matches[1];\n      }\n\n      this.$emit(\"container-resized\", this.i, this.h, this.w, styleProps.height, styleProps.width);\n    },\n    handleResize: function handleResize(event) {\n      if (this.static) return;\n      var position = getControlPosition(event); // Get the current drag point from the event. This is used as the offset.\n\n      if (position == null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y;\n      var newSize = {\n        width: 0,\n        height: 0\n      };\n      var pos;\n\n      switch (event.type) {\n        case \"resizestart\":\n          {\n            this.previousW = this.innerW;\n            this.previousH = this.innerH;\n            pos = this.calcPosition(this.innerX, this.innerY, this.innerW, this.innerH);\n            newSize.width = pos.width;\n            newSize.height = pos.height;\n            this.resizing = newSize;\n            this.isResizing = true;\n            break;\n          }\n\n        case \"resizemove\":\n          {\n            //                        console.log(\"### resize => \" + event.type + \", lastW=\" + this.lastW + \", lastH=\" + this.lastH);\n            var coreEvent = createCoreData(this.lastW, this.lastH, x, y);\n\n            if (this.renderRtl) {\n              newSize.width = this.resizing.width - coreEvent.deltaX;\n            } else {\n              newSize.width = this.resizing.width + coreEvent.deltaX;\n            }\n\n            newSize.height = this.resizing.height + coreEvent.deltaY; ///console.log(\"### resize => \" + event.type + \", deltaX=\" + coreEvent.deltaX + \", deltaY=\" + coreEvent.deltaY);\n\n            this.resizing = newSize;\n            break;\n          }\n\n        case \"resizeend\":\n          {\n            //console.log(\"### resize end => x=\" +this.innerX + \" y=\" + this.innerY + \" w=\" + this.innerW + \" h=\" + this.innerH);\n            pos = this.calcPosition(this.innerX, this.innerY, this.innerW, this.innerH);\n            newSize.width = pos.width;\n            newSize.height = pos.height; //                        console.log(\"### resize end => \" + JSON.stringify(newSize));\n\n            this.resizing = null;\n            this.isResizing = false;\n            break;\n          }\n      } // Get new WH\n\n\n      pos = this.calcWH(newSize.height, newSize.width);\n\n      if (pos.w < this.minW) {\n        pos.w = this.minW;\n      }\n\n      if (pos.w > this.maxW) {\n        pos.w = this.maxW;\n      }\n\n      if (pos.h < this.minH) {\n        pos.h = this.minH;\n      }\n\n      if (pos.h > this.maxH) {\n        pos.h = this.maxH;\n      }\n\n      if (pos.h < 1) {\n        pos.h = 1;\n      }\n\n      if (pos.w < 1) {\n        pos.w = 1;\n      }\n\n      this.lastW = x;\n      this.lastH = y;\n\n      if (this.innerW !== pos.w || this.innerH !== pos.h) {\n        this.$emit(\"resize\", this.i, pos.h, pos.w, newSize.height, newSize.width);\n      }\n\n      if (event.type === \"resizeend\" && (this.previousW !== this.innerW || this.previousH !== this.innerH)) {\n        this.$emit(\"resized\", this.i, pos.h, pos.w, newSize.height, newSize.width);\n      }\n\n      this.eventBus.$emit(\"resizeEvent\", event.type, this.i, this.innerX, this.innerY, pos.h, pos.w);\n    },\n    handleDrag: function handleDrag(event) {\n      if (this.static) return;\n      if (this.isResizing) return;\n      var position = getControlPosition(event); // Get the current drag point from the event. This is used as the offset.\n\n      if (position === null) return; // not possible but satisfies flow\n\n      var x = position.x,\n          y = position.y; // let shouldUpdate = false;\n\n      var newPosition = {\n        top: 0,\n        left: 0\n      };\n\n      switch (event.type) {\n        case \"dragstart\":\n          {\n            this.previousX = this.innerX;\n            this.previousY = this.innerY;\n            var parentRect = event.target.offsetParent.getBoundingClientRect();\n            var clientRect = event.target.getBoundingClientRect();\n\n            if (this.renderRtl) {\n              newPosition.left = (clientRect.right - parentRect.right) * -1;\n            } else {\n              newPosition.left = clientRect.left - parentRect.left;\n            }\n\n            newPosition.top = clientRect.top - parentRect.top;\n            this.dragging = newPosition;\n            this.isDragging = true;\n            break;\n          }\n\n        case \"dragend\":\n          {\n            if (!this.isDragging) return;\n\n            var _parentRect = event.target.offsetParent.getBoundingClientRect();\n\n            var _clientRect = event.target.getBoundingClientRect(); //                        Add rtl support\n\n\n            if (this.renderRtl) {\n              newPosition.left = (_clientRect.right - _parentRect.right) * -1;\n            } else {\n              newPosition.left = _clientRect.left - _parentRect.left;\n            }\n\n            newPosition.top = _clientRect.top - _parentRect.top; //                        console.log(\"### drag end => \" + JSON.stringify(newPosition));\n            //                        console.log(\"### DROP: \" + JSON.stringify(newPosition));\n\n            this.dragging = null;\n            this.isDragging = false; // shouldUpdate = true;\n\n            break;\n          }\n\n        case \"dragmove\":\n          {\n            var coreEvent = createCoreData(this.lastX, this.lastY, x, y); //                        Add rtl support\n\n            if (this.renderRtl) {\n              newPosition.left = this.dragging.left - coreEvent.deltaX;\n            } else {\n              newPosition.left = this.dragging.left + coreEvent.deltaX;\n            }\n\n            newPosition.top = this.dragging.top + coreEvent.deltaY; //                        console.log(\"### drag => \" + event.type + \", x=\" + x + \", y=\" + y);\n            //                        console.log(\"### drag => \" + event.type + \", deltaX=\" + coreEvent.deltaX + \", deltaY=\" + coreEvent.deltaY);\n            //                        console.log(\"### drag end => \" + JSON.stringify(newPosition));\n\n            this.dragging = newPosition;\n            break;\n          }\n      } // Get new XY\n\n\n      var pos;\n\n      if (this.renderRtl) {\n        pos = this.calcXY(newPosition.top, newPosition.left);\n      } else {\n        pos = this.calcXY(newPosition.top, newPosition.left);\n      }\n\n      this.lastX = x;\n      this.lastY = y;\n\n      if (this.innerX !== pos.x || this.innerY !== pos.y) {\n        this.$emit(\"move\", this.i, pos.x, pos.y);\n      }\n\n      if (event.type === \"dragend\" && (this.previousX !== this.innerX || this.previousY !== this.innerY)) {\n        this.$emit(\"moved\", this.i, pos.x, pos.y);\n      }\n\n      this.eventBus.$emit(\"dragEvent\", event.type, this.i, pos.x, pos.y, this.innerH, this.innerW);\n    },\n    calcPosition: function calcPosition(x, y, w, h) {\n      var colWidth = this.calcColWidth(); // add rtl support\n\n      var out;\n\n      if (this.renderRtl) {\n        out = {\n          right: Math.round(colWidth * x + (x + 1) * this.margin[0]),\n          top: Math.round(this.rowHeight * y + (y + 1) * this.margin[1]),\n          // 0 * Infinity === NaN, which causes problems with resize constriants;\n          // Fix this if it occurs.\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\n          width: w === Infinity ? w : Math.round(colWidth * w + Math.max(0, w - 1) * this.margin[0]),\n          height: h === Infinity ? h : Math.round(this.rowHeight * h + Math.max(0, h - 1) * this.margin[1])\n        };\n      } else {\n        out = {\n          left: Math.round(colWidth * x + (x + 1) * this.margin[0]),\n          top: Math.round(this.rowHeight * y + (y + 1) * this.margin[1]),\n          // 0 * Infinity === NaN, which causes problems with resize constriants;\n          // Fix this if it occurs.\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\n          width: w === Infinity ? w : Math.round(colWidth * w + Math.max(0, w - 1) * this.margin[0]),\n          height: h === Infinity ? h : Math.round(this.rowHeight * h + Math.max(0, h - 1) * this.margin[1])\n        };\n      }\n\n      return out;\n    },\n\n    /**\r\n     * Translate x and y coordinates from pixels to grid units.\r\n     * @param  {Number} top  Top position (relative to parent) in pixels.\r\n     * @param  {Number} left Left position (relative to parent) in pixels.\r\n     * @return {Object} x and y in grid units.\r\n     */\n    // TODO check if this function needs change in order to support rtl.\n    calcXY: function calcXY(top, left) {\n      var colWidth = this.calcColWidth(); // left = colWidth * x + margin * (x + 1)\n      // l = cx + m(x+1)\n      // l = cx + mx + m\n      // l - m = cx + mx\n      // l - m = x(c + m)\n      // (l - m) / (c + m) = x\n      // x = (left - margin) / (coldWidth + margin)\n\n      var x = Math.round((left - this.margin[0]) / (colWidth + this.margin[0]));\n      var y = Math.round((top - this.margin[1]) / (this.rowHeight + this.margin[1])); // Capping\n\n      x = Math.max(Math.min(x, this.cols - this.innerW), 0);\n      y = Math.max(Math.min(y, this.maxRows - this.innerH), 0);\n\n      if (y % 2 !== 0) {\n        y += 1;\n      }\n\n      return {\n        x: x,\n        y: y\n      };\n    },\n    // Helper for generating column width\n    calcColWidth: function calcColWidth() {\n      var colWidth = (this.containerWidth - this.margin[0] * (this.cols + 1)) / this.cols; // console.log(\"### COLS=\" + this.cols + \" COL WIDTH=\" + colWidth + \" MARGIN \" + this.margin[0]);\n\n      return colWidth;\n    },\n\n    /**\r\n     * Given a height and width in pixel values, calculate grid units.\r\n     * @param  {Number} height Height in pixels.\r\n     * @param  {Number} width  Width in pixels.\r\n     * @return {Object} w, h as grid units.\r\n     */\n    calcWH: function calcWH(height, width) {\n      var colWidth = this.calcColWidth(); // width = colWidth * w - (margin * (w - 1))\n      // ...\n      // w = (width + margin) / (colWidth + margin)\n\n      var w = Math.round((width + this.margin[0]) / (colWidth + this.margin[0]));\n      var h = Math.round((height + this.margin[1]) / (this.rowHeight + this.margin[1])); // Capping\n\n      w = Math.max(Math.min(w, this.cols - this.innerX), 0);\n      h = Math.max(Math.min(h, this.maxRows - this.innerY), 0);\n\n      if (h % 2 !== 0) {\n        h += 1;\n      }\n\n      return {\n        w: w,\n        h: h\n      };\n    },\n    updateWidth: function updateWidth(width, colNum) {\n      this.containerWidth = width;\n\n      if (colNum !== undefined && colNum !== null) {\n        this.cols = colNum;\n      }\n    },\n    compact: function compact() {\n      this.createStyle();\n    },\n    tryMakeDraggable: function tryMakeDraggable() {\n      var self = this;\n\n      if (this.interactObj === null || this.interactObj === undefined) {\n        this.interactObj = interact(this.$refs.item);\n\n        if (!this.useStyleCursor) {\n          this.interactObj.styleCursor(false);\n        }\n      }\n\n      if (this.draggable && !this.static) {\n        var opts = {\n          ignoreFrom: this.dragIgnoreFrom,\n          allowFrom: this.dragAllowFrom\n        };\n        this.interactObj.draggable(opts);\n        /*this.interactObj.draggable({allowFrom: '.vue-draggable-handle'});*/\n\n        if (!this.dragEventSet) {\n          this.dragEventSet = true;\n          this.interactObj.on(\"dragstart dragmove dragend\", function (event) {\n            self.handleDrag(event);\n          });\n        }\n      } else {\n        this.interactObj.draggable({\n          enabled: false\n        });\n      }\n    },\n    tryMakeResizable: function tryMakeResizable() {\n      var self = this;\n\n      if (this.interactObj === null || this.interactObj === undefined) {\n        this.interactObj = interact(this.$refs.item);\n\n        if (!this.useStyleCursor) {\n          this.interactObj.styleCursor(false);\n        }\n      }\n\n      if (this.resizable && !this.static) {\n        var maximum = this.calcPosition(0, 0, this.maxW, this.maxH);\n        var minimum = this.calcPosition(0, 0, this.minW, this.minH); // console.log(\"### MAX \" + JSON.stringify(maximum));\n        // console.log(\"### MIN \" + JSON.stringify(minimum));\n\n        var opts = {\n          // allowFrom: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\n          edges: {\n            left: false,\n            right: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\n            bottom: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\n            top: false\n          },\n          ignoreFrom: this.resizeIgnoreFrom,\n          restrictSize: {\n            min: {\n              height: minimum.height,\n              width: minimum.width\n            },\n            max: {\n              height: maximum.height,\n              width: maximum.width\n            }\n          }\n        };\n\n        if (this.preserveAspectRatio) {\n          opts.modifiers = [interact.modifiers.aspectRatio({\n            ratio: \"preserve\"\n          })];\n        }\n\n        this.interactObj.resizable(opts);\n\n        if (!this.resizeEventSet) {\n          this.resizeEventSet = true;\n          this.interactObj.on(\"resizestart resizemove resizeend\", function (event) {\n            self.handleResize(event);\n          });\n        }\n      } else {\n        this.interactObj.resizable({\n          enabled: false\n        });\n      }\n    },\n    autoSize: function autoSize() {\n      // ok here we want to calculate if a resize is needed\n      this.previousW = this.innerW;\n      this.previousH = this.innerH;\n      var newSize = this.$slots.default[0].elm.getBoundingClientRect();\n      var pos = this.calcWH(newSize.height, newSize.width);\n\n      if (pos.w < this.minW) {\n        pos.w = this.minW;\n      }\n\n      if (pos.w > this.maxW) {\n        pos.w = this.maxW;\n      }\n\n      if (pos.h < this.minH) {\n        pos.h = this.minH;\n      }\n\n      if (pos.h > this.maxH) {\n        pos.h = this.maxH;\n      }\n\n      if (pos.h < 1) {\n        pos.h = 1;\n      }\n\n      if (pos.w < 1) {\n        pos.w = 1;\n      } // this.lastW = x; // basically, this is copied from resizehandler, but shouldn't be needed\n      // this.lastH = y;\n\n\n      if (this.innerW !== pos.w || this.innerH !== pos.h) {\n        this.$emit(\"resize\", this.i, pos.h, pos.w, newSize.height, newSize.width);\n      }\n\n      if (this.previousW !== pos.w || this.previousH !== pos.h) {\n        this.$emit(\"resized\", this.i, pos.h, pos.w, newSize.height, newSize.width);\n        this.eventBus.$emit(\"resizeEvent\", \"resizeend\", this.i, this.innerX, this.innerY, pos.h, pos.w);\n      }\n    }\n  }\n};",{"version":3,"sources":["GridItem.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div ref=\"item\" class=\"vue-grid-item\" :class=\"classObj\" :style=\"style\">\r\n    <slot></slot>\r\n    <span\r\n      v-if=\"resizableAndNotStatic\"\r\n      ref=\"handle\"\r\n      :class=\"resizableHandleClass\"\r\n    ></span>\r\n    <!--<span v-if=\"draggable\" ref=\"dragHandle\" class=\"vue-draggable-handle\"></span>-->\r\n  </div>\r\n</template>\r\n<style>\r\n.vue-grid-item {\r\n  transition: all 200ms ease;\r\n  transition-property: left, top, right;\r\n  /* add right for rtl */\r\n}\r\n\r\n.vue-grid-item.no-touch {\r\n  -ms-touch-action: none;\r\n  touch-action: none;\r\n}\r\n\r\n.vue-grid-item.cssTransforms {\r\n  transition-property: transform;\r\n  left: 0;\r\n  right: auto;\r\n}\r\n\r\n.vue-grid-item.cssTransforms.render-rtl {\r\n  left: auto;\r\n  right: 0;\r\n}\r\n\r\n.vue-grid-item.resizing {\r\n  opacity: 0.6;\r\n  z-index: 3;\r\n}\r\n\r\n.vue-grid-item.vue-draggable-dragging {\r\n  transition: none;\r\n  z-index: 3;\r\n}\r\n\r\n.vue-grid-item.vue-grid-placeholder {\r\n  border: 0.5px solid #6d6e6e;\r\n  opacity: 0.2;\r\n  transition-duration: 100ms;\r\n  z-index: 2;\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  -o-user-select: none;\r\n  user-select: none;\r\n}\r\n\r\n.vue-grid-item > .vue-resizable-handle {\r\n  position: absolute;\r\n  width: 20px;\r\n  height: 20px;\r\n  bottom: 0;\r\n  right: 0;\r\n  background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/Pg08IS0tIEdlbmVyYXRvcjogQWRvYmUgRmlyZXdvcmtzIENTNiwgRXhwb3J0IFNWRyBFeHRlbnNpb24gYnkgQWFyb24gQmVhbGwgKGh0dHA6Ly9maXJld29ya3MuYWJlYWxsLmNvbSkgLiBWZXJzaW9uOiAwLjYuMSAgLS0+DTwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DTxzdmcgaWQ9IlVudGl0bGVkLVBhZ2UlMjAxIiB2aWV3Qm94PSIwIDAgNiA2IiBzdHlsZT0iYmFja2dyb3VuZC1jb2xvcjojZmZmZmZmMDAiIHZlcnNpb249IjEuMSINCXhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiDQl4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjZweCIgaGVpZ2h0PSI2cHgiDT4NCTxnIG9wYWNpdHk9IjAuMzAyIj4NCQk8cGF0aCBkPSJNIDYgNiBMIDAgNiBMIDAgNC4yIEwgNCA0LjIgTCA0LjIgNC4yIEwgNC4yIDAgTCA2IDAgTCA2IDYgTCA2IDYgWiIgZmlsbD0iIzAwMDAwMCIvPg0JPC9nPg08L3N2Zz4=\");\r\n  background-position: bottom right;\r\n  padding: 0 3px 3px 0;\r\n  background-repeat: no-repeat;\r\n  background-origin: content-box;\r\n  box-sizing: border-box;\r\n  cursor: se-resize;\r\n}\r\n\r\n.vue-grid-item > .vue-rtl-resizable-handle {\r\n  bottom: 0;\r\n  left: 0;\r\n  background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAuMDAwMDAwMDAwMDAwMDAyIiBoZWlnaHQ9IjEwLjAwMDAwMDAwMDAwMDAwMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KIDwhLS0gQ3JlYXRlZCB3aXRoIE1ldGhvZCBEcmF3IC0gaHR0cDovL2dpdGh1Yi5jb20vZHVvcGl4ZWwvTWV0aG9kLURyYXcvIC0tPgogPGc+CiAgPHRpdGxlPmJhY2tncm91bmQ8L3RpdGxlPgogIDxyZWN0IGZpbGw9Im5vbmUiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgaGVpZ2h0PSIxMiIgd2lkdGg9IjEyIiB5PSItMSIgeD0iLTEiLz4KICA8ZyBkaXNwbGF5PSJub25lIiBvdmVyZmxvdz0idmlzaWJsZSIgeT0iMCIgeD0iMCIgaGVpZ2h0PSIxMDAlIiB3aWR0aD0iMTAwJSIgaWQ9ImNhbnZhc0dyaWQiPgogICA8cmVjdCBmaWxsPSJ1cmwoI2dyaWRwYXR0ZXJuKSIgc3Ryb2tlLXdpZHRoPSIwIiB5PSIwIiB4PSIwIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIi8+CiAgPC9nPgogPC9nPgogPGc+CiAgPHRpdGxlPkxheWVyIDE8L3RpdGxlPgogIDxsaW5lIGNhbnZhcz0iI2ZmZmZmZiIgY2FudmFzLW9wYWNpdHk9IjEiIHN0cm9rZS1saW5lY2FwPSJ1bmRlZmluZWQiIHN0cm9rZS1saW5lam9pbj0idW5kZWZpbmVkIiBpZD0ic3ZnXzEiIHkyPSItNzAuMTc4NDA3IiB4Mj0iMTI0LjQ2NDE3NSIgeTE9Ii0zOC4zOTI3MzciIHgxPSIxNDQuODIxMjg5IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlPSIjMDAwIiBmaWxsPSJub25lIi8+CiAgPGxpbmUgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2UtbGluZWNhcD0idW5kZWZpbmVkIiBzdHJva2UtbGluZWpvaW49InVuZGVmaW5lZCIgaWQ9InN2Z181IiB5Mj0iOS4xMDY5NTciIHgyPSIwLjk0NzI0NyIgeTE9Ii0wLjAxODEyOCIgeDE9IjAuOTQ3MjQ3IiBzdHJva2Utd2lkdGg9IjIiIGZpbGw9Im5vbmUiLz4KICA8bGluZSBzdHJva2UtbGluZWNhcD0idW5kZWZpbmVkIiBzdHJva2UtbGluZWpvaW49InVuZGVmaW5lZCIgaWQ9InN2Z183IiB5Mj0iOSIgeDI9IjEwLjA3MzUyOSIgeTE9IjkiIHgxPSItMC42NTU2NCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2U9IiM2NjY2NjYiIGZpbGw9Im5vbmUiLz4KIDwvZz4KPC9zdmc+);\r\n  background-position: bottom left;\r\n  padding-left: 3px;\r\n  background-repeat: no-repeat;\r\n  background-origin: content-box;\r\n  cursor: sw-resize;\r\n  right: auto;\r\n}\r\n\r\n.vue-grid-item.disable-userselect {\r\n  user-select: none;\r\n}\r\n</style>\r\n<script>\r\nimport {\r\n  setTopLeft,\r\n  setTopRight,\r\n  setTransformRtl,\r\n  setTransform,\r\n} from \"@/helpers/utils\";\r\nimport { getControlPosition, createCoreData } from \"@/helpers/draggableUtils\";\r\nimport { getColsFromBreakpoint } from \"@/helpers/responsiveUtils\";\r\nimport { getDocumentDir } from \"@/helpers/DOM\";\r\n//    var eventBus = require('./eventBus');\r\n\r\nimport \"@interactjs/auto-start\";\r\nimport \"@interactjs/actions/drag\";\r\nimport \"@interactjs/actions/resize\";\r\nimport \"@interactjs/modifiers\";\r\nimport \"@interactjs/dev-tools\";\r\nimport interact from \"@interactjs/interact\";\r\n\r\nexport default {\r\n  name: \"GridItem\",\r\n  props: {\r\n    /*cols: {\r\n             type: Number,\r\n             required: true\r\n             },*/\r\n    /*containerWidth: {\r\n             type: Number,\r\n             required: true\r\n\r\n             },\r\n             rowHeight: {\r\n             type: Number,\r\n             required: true\r\n             },\r\n             margin: {\r\n             type: Array,\r\n             required: true\r\n             },\r\n             maxRows: {\r\n             type: Number,\r\n             required: true\r\n             },*/\r\n    isDraggable: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: null,\r\n    },\r\n    isResizable: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: null,\r\n    },\r\n    /*useCssTransforms: {\r\n             type: Boolean,\r\n             required: true\r\n             },\r\n             */\r\n    static: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n    minH: {\r\n      type: Number,\r\n      required: false,\r\n      default: 1,\r\n    },\r\n    minW: {\r\n      type: Number,\r\n      required: false,\r\n      default: 1,\r\n    },\r\n    maxH: {\r\n      type: Number,\r\n      required: false,\r\n      default: Infinity,\r\n    },\r\n    maxW: {\r\n      type: Number,\r\n      required: false,\r\n      default: Infinity,\r\n    },\r\n    x: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    y: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    w: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    h: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    i: {\r\n      required: true,\r\n    },\r\n    dragIgnoreFrom: {\r\n      type: String,\r\n      required: false,\r\n      default: \"a, button\",\r\n    },\r\n    dragAllowFrom: {\r\n      type: String,\r\n      required: false,\r\n      default: null,\r\n    },\r\n    resizeIgnoreFrom: {\r\n      type: String,\r\n      required: false,\r\n      default: \"a, button\",\r\n    },\r\n    preserveAspectRatio: {\r\n      type: Boolean,\r\n      required: false,\r\n      default: false,\r\n    },\r\n  },\r\n  inject: [\"eventBus\", \"layout\"],\r\n  data: function() {\r\n    return {\r\n      cols: 1,\r\n      containerWidth: 100,\r\n      rowHeight: 30,\r\n      margin: [10, 10],\r\n      maxRows: Infinity,\r\n      draggable: null,\r\n      resizable: null,\r\n      useCssTransforms: true,\r\n      useStyleCursor: true,\r\n\r\n      isDragging: false,\r\n      dragging: null,\r\n      isResizing: false,\r\n      resizing: null,\r\n      lastX: NaN,\r\n      lastY: NaN,\r\n      lastW: NaN,\r\n      lastH: NaN,\r\n      style: {},\r\n      rtl: false,\r\n\r\n      dragEventSet: false,\r\n      resizeEventSet: false,\r\n\r\n      previousW: null,\r\n      previousH: null,\r\n      previousX: null,\r\n      previousY: null,\r\n      innerX: this.x,\r\n      innerY: this.y,\r\n      innerW: this.w,\r\n      innerH: this.h,\r\n    };\r\n  },\r\n  created() {\r\n    let self = this;\r\n\r\n    // Accessible refernces of functions for removing in beforeDestroy\r\n    self.updateWidthHandler = function(width) {\r\n      self.updateWidth(width);\r\n    };\r\n\r\n    self.compactHandler = function(layout) {\r\n      self.compact(layout);\r\n    };\r\n\r\n    self.setDraggableHandler = function(isDraggable) {\r\n      if (self.isDraggable === null) {\r\n        self.draggable = isDraggable;\r\n      }\r\n    };\r\n\r\n    self.setResizableHandler = function(isResizable) {\r\n      if (self.isResizable === null) {\r\n        self.resizable = isResizable;\r\n      }\r\n    };\r\n\r\n    self.setRowHeightHandler = function(rowHeight) {\r\n      self.rowHeight = rowHeight;\r\n    };\r\n\r\n    self.setMaxRowsHandler = function(maxRows) {\r\n      self.maxRows = maxRows;\r\n    };\r\n\r\n    self.directionchangeHandler = () => {\r\n      this.rtl = getDocumentDir() === \"rtl\";\r\n      this.compact();\r\n    };\r\n\r\n    self.setColNum = (colNum) => {\r\n      self.cols = parseInt(colNum);\r\n    };\r\n\r\n    this.eventBus.$on(\"updateWidth\", self.updateWidthHandler);\r\n    this.eventBus.$on(\"compact\", self.compactHandler);\r\n    this.eventBus.$on(\"setDraggable\", self.setDraggableHandler);\r\n    this.eventBus.$on(\"setResizable\", self.setResizableHandler);\r\n    this.eventBus.$on(\"setRowHeight\", self.setRowHeightHandler);\r\n    this.eventBus.$on(\"setMaxRows\", self.setMaxRowsHandler);\r\n    this.eventBus.$on(\"directionchange\", self.directionchangeHandler);\r\n    this.eventBus.$on(\"setColNum\", self.setColNum);\r\n\r\n    this.rtl = getDocumentDir() === \"rtl\";\r\n  },\r\n  beforeDestroy: function() {\r\n    let self = this;\r\n    //Remove listeners\r\n    this.eventBus.$off(\"updateWidth\", self.updateWidthHandler);\r\n    this.eventBus.$off(\"compact\", self.compactHandler);\r\n    this.eventBus.$off(\"setDraggable\", self.setDraggableHandler);\r\n    this.eventBus.$off(\"setResizable\", self.setResizableHandler);\r\n    this.eventBus.$off(\"setRowHeight\", self.setRowHeightHandler);\r\n    this.eventBus.$off(\"setMaxRows\", self.setMaxRowsHandler);\r\n    this.eventBus.$off(\"directionchange\", self.directionchangeHandler);\r\n    this.eventBus.$off(\"setColNum\", self.setColNum);\r\n    if (this.interactObj) {\r\n      this.interactObj.unset(); // destroy interact intance\r\n    }\r\n  },\r\n  mounted: function() {\r\n    if (this.layout.responsive && this.layout.lastBreakpoint) {\r\n      this.cols = getColsFromBreakpoint(\r\n        this.layout.lastBreakpoint,\r\n        this.layout.cols\r\n      );\r\n    } else {\r\n      this.cols = this.layout.colNum;\r\n    }\r\n    this.rowHeight = this.layout.rowHeight;\r\n    this.containerWidth = this.layout.width !== null ? this.layout.width : 100;\r\n    this.margin =\r\n      this.layout.margin !== undefined ? this.layout.margin : [10, 10];\r\n    this.maxRows = this.layout.maxRows;\r\n\r\n    if (this.isDraggable === null) {\r\n      this.draggable = this.layout.isDraggable;\r\n    } else {\r\n      this.draggable = this.isDraggable;\r\n    }\r\n    if (this.isResizable === null) {\r\n      this.resizable = this.layout.isResizable;\r\n    } else {\r\n      this.resizable = this.isResizable;\r\n    }\r\n    this.useCssTransforms = this.layout.useCssTransforms;\r\n    this.useStyleCursor = this.layout.useStyleCursor;\r\n    this.createStyle();\r\n  },\r\n  watch: {\r\n    isDraggable: function() {\r\n      this.draggable = this.isDraggable;\r\n    },\r\n    static: function() {\r\n      this.tryMakeDraggable();\r\n      this.tryMakeResizable();\r\n    },\r\n    draggable: function() {\r\n      this.tryMakeDraggable();\r\n    },\r\n    isResizable: function() {\r\n      this.resizable = this.isResizable;\r\n    },\r\n    resizable: function() {\r\n      this.tryMakeResizable();\r\n    },\r\n    rowHeight: function() {\r\n      this.createStyle();\r\n      this.emitContainerResized();\r\n    },\r\n    cols: function() {\r\n      this.tryMakeResizable();\r\n      this.createStyle();\r\n      this.emitContainerResized();\r\n    },\r\n    containerWidth: function() {\r\n      this.tryMakeResizable();\r\n      this.createStyle();\r\n      this.emitContainerResized();\r\n    },\r\n    x: function(newVal) {\r\n      this.innerX = newVal;\r\n      this.createStyle();\r\n    },\r\n    y: function(newVal) {\r\n      this.innerY = newVal;\r\n      this.createStyle();\r\n    },\r\n    h: function(newVal) {\r\n      this.innerH = newVal;\r\n      this.createStyle();\r\n      // this.emitContainerResized();\r\n    },\r\n    w: function(newVal) {\r\n      this.innerW = newVal;\r\n      this.createStyle();\r\n      // this.emitContainerResized();\r\n    },\r\n    renderRtl: function() {\r\n      // console.log(\"### renderRtl\");\r\n      this.tryMakeResizable();\r\n      this.createStyle();\r\n    },\r\n    minH: function() {\r\n      this.tryMakeResizable();\r\n    },\r\n    maxH: function() {\r\n      this.tryMakeResizable();\r\n    },\r\n    minW: function() {\r\n      this.tryMakeResizable();\r\n    },\r\n    maxW: function() {\r\n      this.tryMakeResizable();\r\n    },\r\n    \"$parent.margin\": function(margin) {\r\n      if (\r\n        !margin ||\r\n        (margin[0] == this.margin[0] && margin[1] == this.margin[1])\r\n      ) {\r\n        return;\r\n      }\r\n      this.margin = margin.map((m) => Number(m));\r\n      this.createStyle();\r\n      this.emitContainerResized();\r\n    },\r\n  },\r\n  computed: {\r\n    classObj() {\r\n      return {\r\n        \"vue-resizable\": this.resizableAndNotStatic,\r\n        static: this.static,\r\n        resizing: this.isResizing,\r\n        \"vue-draggable-dragging\": this.isDragging,\r\n        cssTransforms: this.useCssTransforms,\r\n        \"render-rtl\": this.renderRtl,\r\n        \"disable-userselect\": this.isDragging,\r\n        \"no-touch\": this.isAndroid && this.draggableOrResizableAndNotStatic,\r\n      };\r\n    },\r\n    resizableAndNotStatic() {\r\n      return this.resizable && !this.static;\r\n    },\r\n    draggableOrResizableAndNotStatic() {\r\n      return (this.draggable || this.resizable) && !this.static;\r\n    },\r\n    isAndroid() {\r\n      return navigator.userAgent.toLowerCase().indexOf(\"android\") !== -1;\r\n    },\r\n    renderRtl() {\r\n      return this.layout.isMirrored ? !this.rtl : this.rtl;\r\n    },\r\n    resizableHandleClass() {\r\n      if (this.renderRtl) {\r\n        return \"vue-resizable-handle vue-rtl-resizable-handle\";\r\n      } else {\r\n        return \"vue-resizable-handle\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    createStyle: function() {\r\n      if (this.x + this.w > this.cols) {\r\n        this.innerX = 0;\r\n        this.innerW = this.w > this.cols ? this.cols : this.w;\r\n      } else {\r\n        this.innerX = this.x;\r\n        this.innerW = this.w;\r\n      }\r\n      let pos = this.calcPosition(\r\n        this.innerX,\r\n        this.innerY,\r\n        this.innerW,\r\n        this.innerH\r\n      );\r\n\r\n      if (this.isDragging) {\r\n        pos.top = this.dragging.top;\r\n        //                    Add rtl support\r\n        if (this.renderRtl) {\r\n          pos.right = this.dragging.left;\r\n        } else {\r\n          pos.left = this.dragging.left;\r\n        }\r\n      }\r\n      if (this.isResizing) {\r\n        pos.width = this.resizing.width;\r\n        pos.height = this.resizing.height;\r\n      }\r\n\r\n      let style;\r\n      // CSS Transforms support (default)\r\n      if (this.useCssTransforms) {\r\n        //                    Add rtl support\r\n        if (this.renderRtl) {\r\n          style = setTransformRtl(pos.top, pos.right, pos.width, pos.height);\r\n        } else {\r\n          style = setTransform(pos.top, pos.left, pos.width, pos.height);\r\n        }\r\n      } else {\r\n        // top,left (slow)\r\n        //                    Add rtl support\r\n        if (this.renderRtl) {\r\n          style = setTopRight(pos.top, pos.right, pos.width, pos.height);\r\n        } else {\r\n          style = setTopLeft(pos.top, pos.left, pos.width, pos.height);\r\n        }\r\n      }\r\n      this.style = style;\r\n    },\r\n    emitContainerResized() {\r\n      // this.style has width and height with trailing 'px'. The\r\n      // resized event is without them\r\n      let styleProps = {};\r\n      for (let prop of [\"width\", \"height\"]) {\r\n        let val = this.style[prop];\r\n        let matches = val.match(/^(\\d+)px$/);\r\n        if (!matches) return;\r\n        styleProps[prop] = matches[1];\r\n      }\r\n      this.$emit(\r\n        \"container-resized\",\r\n        this.i,\r\n        this.h,\r\n        this.w,\r\n        styleProps.height,\r\n        styleProps.width\r\n      );\r\n    },\r\n    handleResize: function(event) {\r\n      if (this.static) return;\r\n      const position = getControlPosition(event);\r\n      // Get the current drag point from the event. This is used as the offset.\r\n      if (position == null) return; // not possible but satisfies flow\r\n      const { x, y } = position;\r\n\r\n      const newSize = { width: 0, height: 0 };\r\n      let pos;\r\n      switch (event.type) {\r\n        case \"resizestart\": {\r\n          this.previousW = this.innerW;\r\n          this.previousH = this.innerH;\r\n          pos = this.calcPosition(\r\n            this.innerX,\r\n            this.innerY,\r\n            this.innerW,\r\n            this.innerH\r\n          );\r\n          newSize.width = pos.width;\r\n          newSize.height = pos.height;\r\n          this.resizing = newSize;\r\n          this.isResizing = true;\r\n          break;\r\n        }\r\n        case \"resizemove\": {\r\n          //                        console.log(\"### resize => \" + event.type + \", lastW=\" + this.lastW + \", lastH=\" + this.lastH);\r\n          const coreEvent = createCoreData(this.lastW, this.lastH, x, y);\r\n          if (this.renderRtl) {\r\n            newSize.width = this.resizing.width - coreEvent.deltaX;\r\n          } else {\r\n            newSize.width = this.resizing.width + coreEvent.deltaX;\r\n          }\r\n          newSize.height = this.resizing.height + coreEvent.deltaY;\r\n\r\n          ///console.log(\"### resize => \" + event.type + \", deltaX=\" + coreEvent.deltaX + \", deltaY=\" + coreEvent.deltaY);\r\n          this.resizing = newSize;\r\n          break;\r\n        }\r\n        case \"resizeend\": {\r\n          //console.log(\"### resize end => x=\" +this.innerX + \" y=\" + this.innerY + \" w=\" + this.innerW + \" h=\" + this.innerH);\r\n          pos = this.calcPosition(\r\n            this.innerX,\r\n            this.innerY,\r\n            this.innerW,\r\n            this.innerH\r\n          );\r\n          newSize.width = pos.width;\r\n          newSize.height = pos.height;\r\n          //                        console.log(\"### resize end => \" + JSON.stringify(newSize));\r\n          this.resizing = null;\r\n          this.isResizing = false;\r\n          break;\r\n        }\r\n      }\r\n      // Get new WH\r\n      pos = this.calcWH(newSize.height, newSize.width);\r\n      if (pos.w < this.minW) {\r\n        pos.w = this.minW;\r\n      }\r\n      if (pos.w > this.maxW) {\r\n        pos.w = this.maxW;\r\n      }\r\n      if (pos.h < this.minH) {\r\n        pos.h = this.minH;\r\n      }\r\n      if (pos.h > this.maxH) {\r\n        pos.h = this.maxH;\r\n      }\r\n\r\n      if (pos.h < 1) {\r\n        pos.h = 1;\r\n      }\r\n      if (pos.w < 1) {\r\n        pos.w = 1;\r\n      }\r\n\r\n      this.lastW = x;\r\n      this.lastH = y;\r\n\r\n      if (this.innerW !== pos.w || this.innerH !== pos.h) {\r\n        this.$emit(\r\n          \"resize\",\r\n          this.i,\r\n          pos.h,\r\n          pos.w,\r\n          newSize.height,\r\n          newSize.width\r\n        );\r\n      }\r\n      if (\r\n        event.type === \"resizeend\" &&\r\n        (this.previousW !== this.innerW || this.previousH !== this.innerH)\r\n      ) {\r\n        this.$emit(\r\n          \"resized\",\r\n          this.i,\r\n          pos.h,\r\n          pos.w,\r\n          newSize.height,\r\n          newSize.width\r\n        );\r\n      }\r\n      this.eventBus.$emit(\r\n        \"resizeEvent\",\r\n        event.type,\r\n        this.i,\r\n        this.innerX,\r\n        this.innerY,\r\n        pos.h,\r\n        pos.w\r\n      );\r\n    },\r\n    handleDrag(event) {\r\n      if (this.static) return;\r\n      if (this.isResizing) return;\r\n\r\n      const position = getControlPosition(event);\r\n\r\n      // Get the current drag point from the event. This is used as the offset.\r\n      if (position === null) return; // not possible but satisfies flow\r\n      const { x, y } = position;\r\n\r\n      // let shouldUpdate = false;\r\n      let newPosition = { top: 0, left: 0 };\r\n      switch (event.type) {\r\n        case \"dragstart\": {\r\n          this.previousX = this.innerX;\r\n          this.previousY = this.innerY;\r\n\r\n          let parentRect = event.target.offsetParent.getBoundingClientRect();\r\n          let clientRect = event.target.getBoundingClientRect();\r\n          if (this.renderRtl) {\r\n            newPosition.left = (clientRect.right - parentRect.right) * -1;\r\n          } else {\r\n            newPosition.left = clientRect.left - parentRect.left;\r\n          }\r\n          newPosition.top = clientRect.top - parentRect.top;\r\n          this.dragging = newPosition;\r\n          this.isDragging = true;\r\n          break;\r\n        }\r\n        case \"dragend\": {\r\n          if (!this.isDragging) return;\r\n          let parentRect = event.target.offsetParent.getBoundingClientRect();\r\n          let clientRect = event.target.getBoundingClientRect();\r\n          //                        Add rtl support\r\n          if (this.renderRtl) {\r\n            newPosition.left = (clientRect.right - parentRect.right) * -1;\r\n          } else {\r\n            newPosition.left = clientRect.left - parentRect.left;\r\n          }\r\n          newPosition.top = clientRect.top - parentRect.top;\r\n          //                        console.log(\"### drag end => \" + JSON.stringify(newPosition));\r\n          //                        console.log(\"### DROP: \" + JSON.stringify(newPosition));\r\n          this.dragging = null;\r\n          this.isDragging = false;\r\n          // shouldUpdate = true;\r\n          break;\r\n        }\r\n        case \"dragmove\": {\r\n          const coreEvent = createCoreData(this.lastX, this.lastY, x, y);\r\n          //                        Add rtl support\r\n          if (this.renderRtl) {\r\n            newPosition.left = this.dragging.left - coreEvent.deltaX;\r\n          } else {\r\n            newPosition.left = this.dragging.left + coreEvent.deltaX;\r\n          }\r\n          newPosition.top = this.dragging.top + coreEvent.deltaY;\r\n          //                        console.log(\"### drag => \" + event.type + \", x=\" + x + \", y=\" + y);\r\n          //                        console.log(\"### drag => \" + event.type + \", deltaX=\" + coreEvent.deltaX + \", deltaY=\" + coreEvent.deltaY);\r\n          //                        console.log(\"### drag end => \" + JSON.stringify(newPosition));\r\n          this.dragging = newPosition;\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Get new XY\r\n      let pos;\r\n      if (this.renderRtl) {\r\n        pos = this.calcXY(newPosition.top, newPosition.left);\r\n      } else {\r\n        pos = this.calcXY(newPosition.top, newPosition.left);\r\n      }\r\n\r\n      this.lastX = x;\r\n      this.lastY = y;\r\n\r\n      if (this.innerX !== pos.x || this.innerY !== pos.y) {\r\n        this.$emit(\"move\", this.i, pos.x, pos.y);\r\n      }\r\n      if (\r\n        event.type === \"dragend\" &&\r\n        (this.previousX !== this.innerX || this.previousY !== this.innerY)\r\n      ) {\r\n        this.$emit(\"moved\", this.i, pos.x, pos.y);\r\n      }\r\n      this.eventBus.$emit(\r\n        \"dragEvent\",\r\n        event.type,\r\n        this.i,\r\n        pos.x,\r\n        pos.y,\r\n        this.innerH,\r\n        this.innerW\r\n      );\r\n    },\r\n    calcPosition: function(x, y, w, h) {\r\n      const colWidth = this.calcColWidth();\r\n      // add rtl support\r\n      let out;\r\n      if (this.renderRtl) {\r\n        out = {\r\n          right: Math.round(colWidth * x + (x + 1) * this.margin[0]),\r\n          top: Math.round(this.rowHeight * y + (y + 1) * this.margin[1]),\r\n          // 0 * Infinity === NaN, which causes problems with resize constriants;\r\n          // Fix this if it occurs.\r\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\r\n          width:\r\n            w === Infinity\r\n              ? w\r\n              : Math.round(colWidth * w + Math.max(0, w - 1) * this.margin[0]),\r\n          height:\r\n            h === Infinity\r\n              ? h\r\n              : Math.round(\r\n                  this.rowHeight * h + Math.max(0, h - 1) * this.margin[1]\r\n                ),\r\n        };\r\n      } else {\r\n        out = {\r\n          left: Math.round(colWidth * x + (x + 1) * this.margin[0]),\r\n          top: Math.round(this.rowHeight * y + (y + 1) * this.margin[1]),\r\n          // 0 * Infinity === NaN, which causes problems with resize constriants;\r\n          // Fix this if it occurs.\r\n          // Note we do it here rather than later because Math.round(Infinity) causes deopt\r\n          width:\r\n            w === Infinity\r\n              ? w\r\n              : Math.round(colWidth * w + Math.max(0, w - 1) * this.margin[0]),\r\n          height:\r\n            h === Infinity\r\n              ? h\r\n              : Math.round(\r\n                  this.rowHeight * h + Math.max(0, h - 1) * this.margin[1]\r\n                ),\r\n        };\r\n      }\r\n      return out;\r\n    },\r\n    /**\r\n     * Translate x and y coordinates from pixels to grid units.\r\n     * @param  {Number} top  Top position (relative to parent) in pixels.\r\n     * @param  {Number} left Left position (relative to parent) in pixels.\r\n     * @return {Object} x and y in grid units.\r\n     */\r\n    // TODO check if this function needs change in order to support rtl.\r\n    calcXY(top, left) {\r\n      const colWidth = this.calcColWidth();\r\n\r\n      // left = colWidth * x + margin * (x + 1)\r\n      // l = cx + m(x+1)\r\n      // l = cx + mx + m\r\n      // l - m = cx + mx\r\n      // l - m = x(c + m)\r\n      // (l - m) / (c + m) = x\r\n      // x = (left - margin) / (coldWidth + margin)\r\n      let x = Math.round((left - this.margin[0]) / (colWidth + this.margin[0]));\r\n      let y = Math.round(\r\n        (top - this.margin[1]) / (this.rowHeight + this.margin[1])\r\n      );\r\n      // Capping\r\n      x = Math.max(Math.min(x, this.cols - this.innerW), 0);\r\n      y = Math.max(Math.min(y, this.maxRows - this.innerH), 0);\r\n      if (y % 2 !== 0) {\r\n        y += 1;\r\n      }\r\n      return { x, y };\r\n    },\r\n    // Helper for generating column width\r\n    calcColWidth() {\r\n      const colWidth =\r\n        (this.containerWidth - this.margin[0] * (this.cols + 1)) / this.cols;\r\n      // console.log(\"### COLS=\" + this.cols + \" COL WIDTH=\" + colWidth + \" MARGIN \" + this.margin[0]);\r\n      return colWidth;\r\n    },\r\n\r\n    /**\r\n     * Given a height and width in pixel values, calculate grid units.\r\n     * @param  {Number} height Height in pixels.\r\n     * @param  {Number} width  Width in pixels.\r\n     * @return {Object} w, h as grid units.\r\n     */\r\n    calcWH(height, width) {\r\n      const colWidth = this.calcColWidth();\r\n\r\n      // width = colWidth * w - (margin * (w - 1))\r\n      // ...\r\n      // w = (width + margin) / (colWidth + margin)\r\n      let w = Math.round(\r\n        (width + this.margin[0]) / (colWidth + this.margin[0])\r\n      );\r\n      let h = Math.round(\r\n        (height + this.margin[1]) / (this.rowHeight + this.margin[1])\r\n      );\r\n      // Capping\r\n      w = Math.max(Math.min(w, this.cols - this.innerX), 0);\r\n      h = Math.max(Math.min(h, this.maxRows - this.innerY), 0);\r\n      if (h % 2 !== 0) {\r\n        h += 1;\r\n      }\r\n      return { w, h };\r\n    },\r\n    updateWidth: function(width, colNum) {\r\n      this.containerWidth = width;\r\n      if (colNum !== undefined && colNum !== null) {\r\n        this.cols = colNum;\r\n      }\r\n    },\r\n    compact: function() {\r\n      this.createStyle();\r\n    },\r\n    tryMakeDraggable: function() {\r\n      const self = this;\r\n      if (this.interactObj === null || this.interactObj === undefined) {\r\n        this.interactObj = interact(this.$refs.item);\r\n        if (!this.useStyleCursor) {\r\n          this.interactObj.styleCursor(false);\r\n        }\r\n      }\r\n      if (this.draggable && !this.static) {\r\n        const opts = {\r\n          ignoreFrom: this.dragIgnoreFrom,\r\n          allowFrom: this.dragAllowFrom,\r\n        };\r\n        this.interactObj.draggable(opts);\r\n        /*this.interactObj.draggable({allowFrom: '.vue-draggable-handle'});*/\r\n        if (!this.dragEventSet) {\r\n          this.dragEventSet = true;\r\n          this.interactObj.on(\"dragstart dragmove dragend\", function(event) {\r\n            self.handleDrag(event);\r\n          });\r\n        }\r\n      } else {\r\n        this.interactObj.draggable({\r\n          enabled: false,\r\n        });\r\n      }\r\n    },\r\n    tryMakeResizable: function() {\r\n      const self = this;\r\n      if (this.interactObj === null || this.interactObj === undefined) {\r\n        this.interactObj = interact(this.$refs.item);\r\n        if (!this.useStyleCursor) {\r\n          this.interactObj.styleCursor(false);\r\n        }\r\n      }\r\n      if (this.resizable && !this.static) {\r\n        let maximum = this.calcPosition(0, 0, this.maxW, this.maxH);\r\n        let minimum = this.calcPosition(0, 0, this.minW, this.minH);\r\n\r\n        // console.log(\"### MAX \" + JSON.stringify(maximum));\r\n        // console.log(\"### MIN \" + JSON.stringify(minimum));\r\n\r\n        const opts = {\r\n          // allowFrom: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\r\n          edges: {\r\n            left: false,\r\n            right: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\r\n            bottom: \".\" + this.resizableHandleClass.trim().replace(\" \", \".\"),\r\n            top: false,\r\n          },\r\n          ignoreFrom: this.resizeIgnoreFrom,\r\n          restrictSize: {\r\n            min: {\r\n              height: minimum.height,\r\n              width: minimum.width,\r\n            },\r\n            max: {\r\n              height: maximum.height,\r\n              width: maximum.width,\r\n            },\r\n          },\r\n        };\r\n\r\n        if (this.preserveAspectRatio) {\r\n          opts.modifiers = [\r\n            interact.modifiers.aspectRatio({\r\n              ratio: \"preserve\",\r\n            }),\r\n          ];\r\n        }\r\n\r\n        this.interactObj.resizable(opts);\r\n        if (!this.resizeEventSet) {\r\n          this.resizeEventSet = true;\r\n          this.interactObj.on(\"resizestart resizemove resizeend\", function(\r\n            event\r\n          ) {\r\n            self.handleResize(event);\r\n          });\r\n        }\r\n      } else {\r\n        this.interactObj.resizable({\r\n          enabled: false,\r\n        });\r\n      }\r\n    },\r\n    autoSize: function() {\r\n      // ok here we want to calculate if a resize is needed\r\n      this.previousW = this.innerW;\r\n      this.previousH = this.innerH;\r\n\r\n      let newSize = this.$slots.default[0].elm.getBoundingClientRect();\r\n      let pos = this.calcWH(newSize.height, newSize.width);\r\n      if (pos.w < this.minW) {\r\n        pos.w = this.minW;\r\n      }\r\n      if (pos.w > this.maxW) {\r\n        pos.w = this.maxW;\r\n      }\r\n      if (pos.h < this.minH) {\r\n        pos.h = this.minH;\r\n      }\r\n      if (pos.h > this.maxH) {\r\n        pos.h = this.maxH;\r\n      }\r\n\r\n      if (pos.h < 1) {\r\n        pos.h = 1;\r\n      }\r\n      if (pos.w < 1) {\r\n        pos.w = 1;\r\n      }\r\n\r\n      // this.lastW = x; // basically, this is copied from resizehandler, but shouldn't be needed\r\n      // this.lastH = y;\r\n\r\n      if (this.innerW !== pos.w || this.innerH !== pos.h) {\r\n        this.$emit(\r\n          \"resize\",\r\n          this.i,\r\n          pos.h,\r\n          pos.w,\r\n          newSize.height,\r\n          newSize.width\r\n        );\r\n      }\r\n      if (this.previousW !== pos.w || this.previousH !== pos.h) {\r\n        this.$emit(\r\n          \"resized\",\r\n          this.i,\r\n          pos.h,\r\n          pos.w,\r\n          newSize.height,\r\n          newSize.width\r\n        );\r\n        this.eventBus.$emit(\r\n          \"resizeEvent\",\r\n          \"resizeend\",\r\n          this.i,\r\n          this.innerX,\r\n          this.innerY,\r\n          pos.h,\r\n          pos.w\r\n        );\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/components"}]}